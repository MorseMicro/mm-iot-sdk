<!-- HTML header for doxygen 1.8.17-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Morse Micro IoT SDK: emmet.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" href="favicon.svg" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Morse Micro IoT SDK
   &#160;<span id="projectnumber">2.7.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('emmet_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">emmet.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p ><a class="el" href="group__EMMET.html">Morse Micro Embedded Test Engine (Emmet)</a> example. </p>
<dl class="section note"><dt>Note</dt><dd>It is assumed that you have followed the steps in the <a class="el" href="GETTING_STARTED.html">Getting Started</a> guide and are therefore familiar with how to build, flash, and monitor an application using the MM-IoT-SDK framework.</dd></dl>
<p><a class="el" href="group__EMMET.html">Morse Micro Embedded Test Engine (Emmet)</a> is a firmware subsystem that allows various aspects of the firmware to be driven by a connected computer via a connected OpenOCD server. This is intended as an aid for development and automated test.</p>
<p >This example application simply initializes the Emmet subsystem, making it ready to receive commands.</p>
<h1><a class="anchor" id="EMMET_APP_HOWTO"></a>
How to use the Emmet example application</h1>
<p >The following instructions demonstrate how to connect to an AP and perform a ping.</p>
<p >Begin by following the instructions in the <a class="el" href="GETTING_STARTED.html">Getting Started</a> guide to build the <code>emmet.elf</code> firmware and use OpenOCD/GDB to program it to the microcontroller (see also <a class="el" href="mm__app__common_8h.html#APP_COMMON_API">Application helper routines for Wireless LAN interface</a> for more details of WLAN and IP stack configuration). Once programming is complete leave OpenOCD running. If this is not the case OpenOCD can be started with the following command (the exact command will vary between platforms, see <a class="el" href="GETTING_STARTED.html#GETTING_STARTED_OPENOCD">Launching OpenOCD</a>):</p>
<div class="fragment"><div class="line">openocd -f src/platforms/mm-ekh08-u575/openocd.cfg</div>
</div><!-- fragment --><p >In another terminal execute the <code>wlan-sta-connect.py</code> script to connect to the AP:</p>
<div class="fragment"><div class="line">pipenv run ./tools/ace/examples/wlan-sta-connect.py -H localhost -s MorseMicro -S SAE -p 12345678</div>
</div><!-- fragment --><p >This will connect to the AP with SSID <code>MorseMicro</code>, using SAE encryption and passphrase <code>12345678</code>.</p>
<dl class="section note"><dt>Note</dt><dd>Every example script has a help flag for more information about the script parameters. For example: <div class="fragment"><div class="line">pipenv run ./tools/ace/examples/wlan-sta-connect.py -h</div>
</div><!-- fragment --></dd></dl>
<p>The script will return once connection is complete. In addition the following message similar to the following will be observed in the firmware log:</p>
<div class="fragment"><div class="line">Link is up. Time: 48364 ms, IP: 192.168.1.2, Netmask: 255.255.255.0, Gateway: 192.168.1.1</div>
</div><!-- fragment --><p >To ping a device on the network use the <code>ping.py</code> script. For example:</p>
<div class="fragment"><div class="line">pipenv run ./tools/ace/examples/ping.py -H localhost -I 192.168.1.1 -c 10</div>
</div><!-- fragment --><p >This will ping 192.168.1.1, sending 10 ping requests at an interval of 1000 ms.</p>
<p >A number of other scripts for exercising various aspects of the firmware can be found in the <code>tools/ace/examples</code> directory. </p>

<p class="definition">Definition in file <a class="el" href="emmet_8c_source.html">emmet.c</a>.</p>
</div><div class="textblock"><code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;mmosal.h&quot;</code><br />
<code>#include &quot;mmwlan.h&quot;</code><br />
<code>#include &quot;mm_app_regdb.h&quot;</code><br />
<code>#include &quot;emmet.h&quot;</code><br />
<code>#include &quot;mm_app_loadconfig.h&quot;</code><br />
<code>#include &quot;mm_app_common.h&quot;</code><br />
<code>#include &quot;mmipal.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for emmet.c:</div>
<div class="dyncontent">
<div class="center"><img src="emmet_8c__incl.png" border="0" usemap="#aemmet_8c" alt=""/></div>
<map name="aemmet_8c" id="aemmet_8c">
<area shape="rect" title="Morse Micro Embedded Test Engine (Emmet) example." alt="" coords="517,5,597,32"/>
<area shape="rect" title=" " alt="" coords="5,379,76,405"/>
<area shape="rect" href="mmosal_8h_source.html" title=" " alt="" coords="201,304,288,331"/>
<area shape="rect" href="mmwlan_8h_source.html" title=" " alt="" coords="361,155,451,181"/>
<area shape="rect" title=" " alt="" coords="647,80,781,107"/>
<area shape="rect" href="emmet_8h_source.html" title=" " alt="" coords="477,80,559,107"/>
<area shape="rect" title=" " alt="" coords="806,80,971,107"/>
<area shape="rect" title=" " alt="" coords="995,80,1150,107"/>
<area shape="rect" href="mmipal_8h_source.html" title=" " alt="" coords="665,304,749,331"/>
<area shape="rect" title=" " alt="" coords="561,379,643,405"/>
<area shape="rect" title=" " alt="" coords="397,379,468,405"/>
<area shape="rect" title=" " alt="" coords="211,379,278,405"/>
<area shape="rect" title=" " alt="" coords="303,379,373,405"/>
<area shape="rect" title=" " alt="" coords="100,379,187,405"/>
<area shape="rect" title=" " alt="" coords="214,229,289,256"/>
<area shape="rect" href="mmpkt_8h_source.html" title=" " alt="" coords="415,229,496,256"/>
<area shape="rect" title=" " alt="" coords="465,304,539,331"/>
</map>
</div>
</div>
<p><a href="emmet_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7d09c7aec33f5c9962ec3ba923c5bc67"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emmet_8c.html#a7d09c7aec33f5c9962ec3ba923c5bc67">link_status_callback</a> (const struct <a class="el" href="structmmipal__link__status.html">mmipal_link_status</a> *link_status)</td></tr>
<tr class="memdesc:a7d09c7aec33f5c9962ec3ba923c5bc67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link status callback.  <a href="emmet_8c.html#a7d09c7aec33f5c9962ec3ba923c5bc67">More...</a><br /></td></tr>
<tr class="separator:a7d09c7aec33f5c9962ec3ba923c5bc67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add3190cf715f513666f4be42874d91e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emmet_8c.html#add3190cf715f513666f4be42874d91e2">app_init</a> (void)</td></tr>
<tr class="memdesc:add3190cf715f513666f4be42874d91e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main entry point to the application.  <a href="emmet_8c.html#add3190cf715f513666f4be42874d91e2">More...</a><br /></td></tr>
<tr class="separator:add3190cf715f513666f4be42874d91e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="add3190cf715f513666f4be42874d91e2" name="add3190cf715f513666f4be42874d91e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add3190cf715f513666f4be42874d91e2">&#9670;&nbsp;</a></span>app_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void app_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main entry point to the application. </p>
<p >This will be invoked in a thread once operating system and hardware initialization has completed. It may return, but it does not have to. </p>

<p class="definition">Definition at line <a class="el" href="emmet_8c_source.html#l00109">109</a> of file <a class="el" href="emmet_8c_source.html">emmet.c</a>.</p>

</div>
</div>
<a id="a7d09c7aec33f5c9962ec3ba923c5bc67" name="a7d09c7aec33f5c9962ec3ba923c5bc67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d09c7aec33f5c9962ec3ba923c5bc67">&#9670;&nbsp;</a></span>link_status_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void link_status_callback </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmmipal__link__status.html">mmipal_link_status</a> *&#160;</td>
          <td class="paramname"><em>link_status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Link status callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">link_status</td><td>Current link status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="emmet_8c_source.html#l00088">88</a> of file <a class="el" href="emmet_8c_source.html">emmet.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.17-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d570c7de7a367bd1f24cd66faf59ca3f.html">examples</a></li><li class="navelem"><a class="el" href="dir_570a641697259ea3227f4b3fcb00ffab.html">emmet</a></li><li class="navelem"><a class="el" href="dir_72fc8fabaefe798d52fade60246537ae.html">src</a></li><li class="navelem"><a class="el" href="emmet_8c.html">emmet.c</a></li>
    <li class="footer">Copyright 2021 Morse Micro </li>
  </ul>
</div>
</body>
</html>
